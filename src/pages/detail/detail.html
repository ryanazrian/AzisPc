<!--
  Generated template for the DetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="nav">
    <ion-title>detail</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <img *ngIf="!data.foto" src="assets/imgs/rusak.jpeg"/>
  <ion-slides pager class="slidas" *ngIf="data.foto">
    <ion-slide>
        <img [src]=this.gambar+data.foto *ngIf="data.foto"  width="460" height="300"/>
    </ion-slide>
    <ion-slide *ngIf="data.fotoReparasi">
        <img [src]=this.gambar+data.foto *ngIf="data.foto"  width="460" height="300"/>
    </ion-slide>
  </ion-slides>
  <div padding>
    <h2 class="judul"> {{data.namaBarang}} </h2>
      <!-- <div class="row">
        <div col-4>Nomor Telepon</div>
        <div col-1>:</div>
        <div col-7>{{09888888888}}</div>
      </div> -->
      <div class="row">
        <div col-4>Tanggal masuk</div>
        <div col-1>:</div>
        <div col-7>{{tanggalIn}}</div>
      </div>
      <div class="row">
        <div col-4>Tanggal selesai</div>
        <div col-1>:</div>
        <div col-7 *ngIf="data.dateSelesai">{{tanggalSelesai}}</div>
        <div col-7 *ngIf="!data.dateSelesai">-</div>
      </div>
      <div class="row">
        <div col-4>Kelengkapan</div>
        <div col-1>:</div>
        <div col-7> {{data.kelengkapan}}</div>
      </div>
      <!-- <div class="row">
        <div col-4>Jenis servis</div>
        <div col-1>:</div>
        <div col-7>{{data.tipeKerusakan}}</div>
      </div> -->
      <div class="row">
        <div col-4>Total biaya</div>
        <div col-1>:</div>
        <div col-7 *ngIf=!data.harga>-</div>
        <div col-7 *ngIf=data.harga>Rp{{data.harga}}</div>
      </div>
    </div>

    <div class="kodeService">
        <h2>{{data.kodeOrder}}</h2>
    </div>
    
    <h2 class="judul"> Progres </h2>
    <ion-list>

      <ion-item class="iconable" [hidden]="!jemput">
        <ion-avatar item-start>
          <div class="lingkaran1"></div>
        </ion-avatar>
        <h2>Penjemputan</h2>
        <h3>Dalam proses penjemputan</h3>
      </ion-item>
      <ion-item class="icondisable" [hidden]="jemput">
        <ion-avatar item-start>
          <div class="lingkaran"></div>
        </ion-avatar>
        <h2>Penjemputan</h2>
        <h3>Tanggal : {{tanggalPenjemputan}} </h3>
      </ion-item>

      <ion-item class="iconable" [hidden]="!diagnosa">
        <ion-avatar item-start>
          <div class="lingkaran1"></div>
        </ion-avatar>
        <h2>Diagnosa</h2>
        <h3>Dalam proses diagnosa</h3>
      </ion-item>
      <ion-item class="icondisable" [hidden]="diagnosa">
          <ion-avatar item-start>
            <div class="lingkaran"></div>
          </ion-avatar>
          <h2>Diagnosa</h2>
          <h3 *ngIf="data.dateDiagnosa">Tanggal : {{tanggalDiagnosa}}</h3>
          <h3 *ngIf="!data.dateDiagnosa">Tanggal : -</h3>
        </ion-item>

      <ion-item class="iconable" [hidden]="!konfirmasi">
        <ion-avatar item-start>
          <div class="lingkaran1"></div>
        </ion-avatar>
        <h2>Konfirmasi</h2>
        <!-- <h3>Tanggal : -</h3> -->
        <h3>Harga   : Rp{{data.harga}}</h3>
        <h3 class="diagnosa">Hasil diagnosa   : {{data.tipeKerusakan}}</h3>
        <button ion-button color="secondary" [disabled]="!konfirmasi" (click)="Terima()">Terima</button>
        <button ion-button color="danger" [disabled]="!konfirmasi" (click)="Batal()">Batal</button>
      </ion-item>
      <ion-item class="icondisable" [hidden]="konfirmasi">
        <ion-avatar item-start>
          <div class="lingkaran"></div>
        </ion-avatar>
        <h2>Konfirmasi</h2>
        <!-- <h3>Tanggal : -</h3> -->
        <h3 *ngIf="data.harga">Harga   :  Rp{{data.harga}}</h3>
        <h3 *ngIf="!data.harga">Harga   :  -</h3>
        <!-- <button ion-button color="secondary" [disabled]="konfirmasi">Terima</button>
        <button ion-button color="danger" [disabled]="konfirmasi">Batal</button> -->
      </ion-item>

      <ion-item class="iconable" *ngIf=tungguKonfirm>
        <ion-avatar item-start>
          <div class="lingkaran1"></div>
        </ion-avatar>
        <h2 class="pengerjaan">Pengerjaan dimasukan dalam antrian</h2>
      </ion-item>

      <ion-item class="iconable" [hidden]="!reparasi">
        <ion-avatar item-start>
          <div class="lingkaran1"></div>
        </ion-avatar>
        <h2>Reparasi</h2>
        <h3>Reparasi dimulai tanggal : {{tanggalReparasi}}</h3>
        <h3 *ngIf="countDays > 0">Perkiraan Selesai : {{countDays}} hari lagi</h3>
        <h3 *ngIf="countDays <= 0">Hubungi kami</h3>
      </ion-item>
      <ion-item class="icondisable" [hidden]="reparasi">
        <ion-avatar item-start>
          <div class="lingkaran"></div>
        </ion-avatar>
        <h2>Reparasi</h2>
        <h3 *ngIf="data.dateMulaiReparasi">Reparasi dimulai tanggal : {{tanggalReparasi}}</h3>
        <h3 *ngIf="!data.dateMulaiReparasi">Reparasi dimulai tanggal : -</h3>
      </ion-item>

      <ion-item class="iconable" [hidden]="!selesai">
        <ion-avatar item-start>
          <div class="lingkaran1"></div>
        </ion-avatar>
        <h2>Selesai</h2>
        <h3>Tanggal : {{tanggalSelesai}}</h3>
        <h3>Garansi : -</h3>
      </ion-item>
      <ion-item class="icondisable" [hidden]="selesai">
        <ion-avatar item-start>
          <div class="lingkaran"></div>
        </ion-avatar>
        <h2>Selesai</h2>
        <h3 *ngIf="data.dateSelesai">Tanggal : {{tanggalSelesai}}</h3>
        <h3 *ngIf="!data.dateSelesai">Tanggal : - </h3>
        <!-- <h3 *ngIf="data.status == 8">Barang Sudah diambil</h3> -->
        <h3>Garansi :-</h3>
      </ion-item>
      
      <div *ngIf="data.status == 7 || data.status == 8" padding (click)="review()">
        <button ion-button block padding [disabled]="false">Review</button>
      </div>
    </ion-list>
</ion-content>
