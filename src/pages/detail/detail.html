<!--
  Generated template for the DetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="nav">
    <ion-title class="headers">Detail</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="content">
  <img *ngIf="!data.foto" src="assets/imgs/rusak.jpeg"/>
  <div *ngIf="data.foto">
    <ion-slides pager class="slidas">
      <ion-slide>
          <img [src]=this.gambar+data.foto *ngIf="data.foto"  width="460" height="300"/>
      </ion-slide>
      <ion-slide *ngIf="data.fotoReparasi">
          <img [src]=this.gambar+data.foto width="460" height="300"/>
      </ion-slide>
    </ion-slides>
  </div>
  <div padding>
    <h2 class="judul"> {{data.namaBarang}} </h2>
      <!-- <div class="row">
        <div col-4>Nomor Telepon</div>
        <div col-1>:</div>
        <div col-7>{{09888888888}}</div>
      </div> -->
      <div class="row">
        <div col-4>Tanggal masuk</div>
        <div col-1>:</div>
        <div col-7>{{tanggalIn}}</div>
      </div>
      <div class="row">
        <div col-4>Tanggal selesai</div>
        <div col-1>:</div>
        <div col-7 *ngIf="data.dateSelesai">{{tanggalSelesai}}</div>
        <div col-7 *ngIf="!data.dateSelesai">-</div>
      </div>
      <div class="row">
        <div col-4>Kelengkapan</div>
        <div col-1>:</div>
        <div col-7> {{data.kelengkapan}}</div>
      </div>
      <!-- <div class="row">
        <div col-4>Jenis servis</div>
        <div col-1>:</div>
        <div col-7>{{data.tipeKerusakan}}</div>
      </div> -->
      <div class="row">
        <div col-4>Total biaya</div>
        <div col-1>:</div>
        <div col-7 *ngIf=!data.harga>-</div>
        <div col-7 *ngIf=data.harga>Rp{{data.harga}}</div>
      </div>
    </div>

    <div class="kodeService" style="text-align: center">
        <h2>{{data.kodeOrder}}</h2>
    </div>
    
    <h2 class="judul"> Progres </h2>
    <ion-card class="iconable" [hidden]="!jemput">
        <ion-avatar item-start>
          <div class="lingkaran1"></div>
        </ion-avatar>
        <h2 class="title">Penjemputan</h2>
        <h3 class="subs">Dalam proses penjemputan</h3>
      </ion-card>

      <ion-card class="icondisable" [hidden]="jemput">
          <ion-avatar item-start>
            <div class="lingkaran"></div>
          </ion-avatar>
          <h2 class="title">Penjemputan</h2>
          <h3 class="subs">Tanggal : {{tanggalPenjemputan}} </h3>
        </ion-card>

      <ion-card class="iconable" [hidden]="!diagnosa">
            <ion-avatar item-start>
              <div class="lingkaran1"></div>
            </ion-avatar>
            <h2 class="title">Diagnosa</h2>
            <h3 class="subs">Dalam proses diagnosa</h3>
        </ion-card>
  
      <ion-card class="icondisable" [hidden]="diagnosa">
            <ion-avatar item-start>
              <div class="lingkaran"></div>
            </ion-avatar>
            <h2 class="title">Diagnosa</h2>
            <h3 class="subs" *ngIf="data.dateDiagnosa">Tanggal : {{tanggalDiagnosa}}</h3>
            <h3 class="subs" *ngIf="!data.dateDiagnosa">Tanggal : -</h3>
          </ion-card>

      <ion-card class="iconable" [hidden]="!konfirmasi">
              <ion-avatar item-start>
                <div class="lingkaran1"></div>
              </ion-avatar>
              <h2 class="title">Konfirmasi</h2>
              <!-- <h3>Tanggal : -</h3> -->
              <h3 class="subs">Harga   : Rp{{data.harga}}</h3>
              <h3 class="diagnosa">Hasil diagnosa   : {{data.tipeKerusakan}}</h3>
              <button ion-button class="buttons" color="secondary" [disabled]="!konfirmasi" (click)="Terima()">Terima</button>
              <button ion-button class="buttons" color="danger" [disabled]="!konfirmasi" (click)="Batal()">Batal</button>
      </ion-card>
      <ion-card class="icondisable" [hidden]="konfirmasi">
          <ion-avatar item-start>
            <div class="lingkaran"></div>
          </ion-avatar>
          <h2 class="title">Konfirmasi</h2>
          <!-- <h3>Tanggal : -</h3> -->
          <h3 class="subs" *ngIf="data.harga">Harga   :  Rp{{data.harga}}</h3>
          <h3 class="subs" *ngIf="!data.harga">Harga   :  -</h3>
          <!-- <button ion-button color="secondary" [disabled]="konfirmasi">Terima</button>
          <button ion-button color="danger" [disabled]="konfirmasi">Batal</button> -->
        </ion-card>

        <ion-card class="iconable" *ngIf=tungguKonfirm>
            <ion-avatar item-start>
              <div class="lingkaran1"></div>
            </ion-avatar>
            <h2 class="pengerjaan">Pengerjaan dimasukan dalam antrian</h2>
          </ion-card>

          <ion-card class="iconable" [hidden]="!reparasi">
              <ion-avatar item-start>
                <div class="lingkaran1"></div>
              </ion-avatar>
              <h2 class="title">Reparasi</h2>
              <h3 class="subs">Reparasi dimulai tanggal : {{tanggalReparasi}}</h3>
              <h3 class="subs" *ngIf="countDays > 0">Perkiraan Selesai : {{countDays}} hari lagi</h3>
              <h3 class="subs" *ngIf="countDays <= 0">Hubungi kami</h3>
            </ion-card>

            <ion-card class="icondisable" [hidden]="reparasi">
                <ion-avatar item-start>
                  <div class="lingkaran"></div>
                </ion-avatar>
                <h2 class="title">Reparasi</h2>
                <h3 class="subs" *ngIf="data.dateMulaiReparasi">Reparasi dimulai tanggal : {{tanggalReparasi}}</h3>
                <h3 class="subs" *ngIf="!data.dateMulaiReparasi">Reparasi dimulai tanggal : -</h3>
              </ion-card>

              <ion-card class="iconable" [hidden]="!selesai">
                  <ion-avatar item-start>
                    <div class="lingkaran1"></div>
                  </ion-avatar>
                  <h2 class="title">Selesai</h2>
                  <h3 class="subs">Tanggal : {{tanggalSelesai}}</h3>
                  <h3 class="subs">Garansi : -</h3>
              </ion-card>
            
      <ion-card class="icondisable" [hidden]="selesai">
          <ion-avatar item-start>
            <div class="lingkaran"></div>
          </ion-avatar>
          <h2 class="title">Selesai</h2>
          <h3 class="subs" *ngIf="data.dateSelesai">Tanggal : {{tanggalSelesai}}</h3>
          <h3 class="subs" *ngIf="!data.dateSelesai">Tanggal : - </h3>
          <!-- <h3 *ngIf="data.status == 8">Barang Sudah diambil</h3> -->
          <h3 class="subs">Garansi :-</h3>
        </ion-card>

    <ion-list>
      
      <div *ngIf="data.status == 7 || data.status == 8" padding (click)="review()">
        <button ion-button block padding [disabled]="false">Review</button>
      </div>
    </ion-list>
</ion-content>
